<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Print Service Order Management</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Incluimos las bibliotecas necesarias para PDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f2f5;
        }
        .windows-shadow {
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        .windows-button {
            background-color: #e1e1e1;
            border: 1px solid #adadad;
            transition: all 0.2s;
        }
        .windows-button:hover {
            background-color: #e5f1fb;
            border-color: #0078d7;
        }
        .windows-button.primary {
            background-color: #0078d7;
            border-color: #006cc1;
            color: white;
        }
        .windows-button.primary:hover {
            background-color: #106ebe;
        }
        .windows-input {
            border: 1px solid #adadad;
            padding: 5px 8px;
        }
        .windows-input:focus {
            border-color: #0078d7;
            outline: none;
        }
        .windows-select {
            border: 1px solid #adadad;
            padding: 5px 8px;
            background-color: white;
        }
        .status-pending {
            background-color: #fff4ce;
            color: #805600;
        }
        .status-in-progress {
            background-color: #deecf9;
            color: #0078d7;
        }
        .status-completed {
            background-color: #dff6dd;
            color: #107c10;
        }
        .tab-active {
            border-bottom: 2px solid #0078d7;
            color: #0078d7;
        }
        .windows-titlebar {
            background: linear-gradient(to right, #0078d7, #106ebe);
        }
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            background-color: #dff6dd;
            border-left: 4px solid #107c10;
            color: #107c10;
            border-radius: 4px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
            opacity: 0;
            transform: translateY(-20px);
            transition: all 0.3s ease;
        }
        .notification.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Print styles */
        @media print {
            body * {
                visibility: hidden;
            }
            #print-content, #print-content * {
                visibility: visible;
            }
            #print-content {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                background-color: white;
                padding: 20px;
                margin: 0;
            }
            .no-print {
                display: none !important;
            }
            #print-preview-modal, #print-preview-container {
                visibility: hidden;
                display: none;
            }
        }
        
        /* Print preview styles */
        #print-preview-modal {
            background-color: rgba(0, 0, 0, 0.5);
        }
        #print-preview-container {
            background-color: #f0f0f0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        #print-content {
            background-color: white;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        /* Status update modal */
        #status-update-modal {
            background-color: rgba(0, 0, 0, 0.5);
        }
        #status-update-container {
            background-color: white;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        /* Login screen */
        .login-container {
            background: linear-gradient(135deg, #0078d7, #106ebe);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .login-box {
            background-color: white;
            border-radius: 4px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            width: 100%;
            max-width: 400px;
            padding: 2rem;
        }
        .login-logo {
            text-align: center;
            margin-bottom: 1.5rem;
        }
        
        /* Export dropdown menu */
        .export-dropdown {
            position: relative;
            display: inline-block;
        }
        
        .export-dropdown-content {
            display: none;
            position: absolute;
            right: 0;
            background-color: white;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
            border-radius: 4px;
            border: 1px solid #adadad;
        }
        
        .export-dropdown-content a {
            color: black;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            font-size: 14px;
        }
        
        .export-dropdown-content a:hover {
            background-color: #e5f1fb;
        }
        
        .export-dropdown:hover .export-dropdown-content {
            display: block;
        }
    </style>
</head>
<body>
    <!-- Login Screen -->
    <div id="login-screen" class="login-container">
        <div class="login-box">
            <div class="login-logo">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mx-auto text-blue-600" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a1 1 0 001 1h10a1 1 0 001-1v-2h1a2 2 0 002-2v-3a2 2 0 00-2-2h-1V4a1 1 0 00-1-1H6a1 1 0 00-1 1zm2 3V5h8v2H7zm8 8H7v-2h8v2zm2-4H5v-3h12v3z" clip-rule="evenodd" />
                </svg>
                <h1 class="text-2xl font-bold mt-2">Print Service Order Management</h1>
                <p class="text-gray-500">Leonova Studio</p>
            </div>
            
            <div id="login-error" class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4 hidden">
                <p>Invalid username or password. Please try again.</p>
            </div>
            
            <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-1">Username</label>
                <input type="text" id="username" class="windows-input w-full rounded" placeholder="Enter your username" value="admin">
            </div>
            
            <div class="mb-6">
                <label class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                <input type="password" id="password" class="windows-input w-full rounded" placeholder="Enter your password" value="admin">
            </div>
            
            <button id="login-btn" class="windows-button primary w-full py-2 rounded">Log In</button>
            
            <div class="mt-4 text-center text-sm text-gray-500">
                <p>Default account: admin / admin</p>
                <p>You can add more users after logging in</p>
            </div>
        </div>
    </div>

    <div id="main-app" class="min-h-screen flex flex-col hidden">
        <!-- Windows-style title bar -->
        <div class="windows-titlebar flex justify-between items-center px-4 py-2 text-white">
            <div class="flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a1 1 0 001 1h10a1 1 0 001-1v-2h1a2 2 0 002-2v-3a2 2 0 00-2-2h-1V4a1 1 0 00-1-1H6a1 1 0 00-1 1zm2 3V5h8v2H7zm8 8H7v-2h8v2zm2-4H5v-3h12v3z" clip-rule="evenodd" />
                </svg>
                <span class="font-semibold">Print Service Order Management</span>
            </div>
            <div class="flex">
                <button class="px-3 py-1 hover:bg-blue-600">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 12H6" />
                    </svg>
                </button>
                <button class="px-3 py-1 hover:bg-blue-600">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 4h-4m4 0l-5-5" />
                    </svg>
                </button>
                <button class="px-3 py-1 hover:bg-red-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
        </div>

        <!-- Main content -->
        <div class="flex flex-1">
            <!-- Sidebar -->
            <div class="w-64 bg-gray-100 border-r border-gray-300">
                <div class="p-4">
                    <div class="flex items-center mb-6">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-600 mr-2" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a1 1 0 001 1h10a1 1 0 001-1v-2h1a2 2 0 002-2v-3a2 2 0 00-2-2h-1V4a1 1 0 00-1-1H6a1 1 0 00-1 1zm2 3V5h8v2H7zm8 8H7v-2h8v2zm2-4H5v-3h12v3z" clip-rule="evenodd" />
                        </svg>
                        <span class="font-bold text-lg">Print Services</span>
                    </div>
                    
                    <div class="space-y-1">
                        <button id="dashboard-btn" class="windows-button w-full text-left px-4 py-2 rounded flex items-center tab-active">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
                            </svg>
                            Dashboard
                        </button>
                        <button id="new-order-btn" class="windows-button w-full text-left px-4 py-2 rounded flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd" />
                            </svg>
                            New Order
                        </button>
                        <button id="orders-btn" class="windows-button w-full text-left px-4 py-2 rounded flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z" clip-rule="evenodd" />
                            </svg>
                            All Orders
                        </button>
                        <button id="reports-btn" class="windows-button w-full text-left px-4 py-2 rounded flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                            </svg>
                            Reports
                        </button>
                        <button id="users-btn" class="windows-button w-full text-left px-4 py-2 rounded flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z" />
                            </svg>
                            Users
                        </button>
                    </div>
                </div>
                
                <div class="border-t border-gray-300 p-4">
                    <div class="text-sm text-gray-600">Logged in as</div>
                    <div class="font-semibold" id="user-name">Admin User</div>
                    <button id="logout-btn" class="windows-button mt-2 px-3 py-1 text-sm rounded">Log Out</button>
                </div>
            </div>

            <!-- Main content area -->
            <div class="flex-1 flex flex-col">
                <!-- Dashboard View -->
                <div id="dashboard-view" class="flex-1 p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h1 class="text-2xl font-semibold">Dashboard</h1>
                        <div class="flex space-x-2">
                            <button class="windows-button primary px-4 py-2 rounded flex items-center" id="dashboard-new-order-btn">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd" />
                                </svg>
                                New Order
                            </button>
                            <div class="export-dropdown">
                                <button class="windows-button px-4 py-2 rounded flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor">
                                        <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" />
                                    </svg>
                                    Export
                                </button>
                                <div class="export-dropdown-content">
                                    <a href="#" id="dashboard-export-csv">Export as CSV</a>
                                    <a href="#" id="dashboard-export-pdf">Export as PDF</a>
                                    <a href="#" id="dashboard-export-excel">Export as Excel</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Stats Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                        <div class="bg-white p-6 rounded windows-shadow">
                            <div class="text-sm text-gray-500 mb-1">Pending Orders</div>
                            <div class="text-3xl font-bold" id="pending-count">12</div>
                            <div class="text-sm text-orange-500 mt-2">+3 since yesterday</div>
                        </div>
                        <div class="bg-white p-6 rounded windows-shadow">
                            <div class="text-sm text-gray-500 mb-1">In Progress</div>
                            <div class="text-3xl font-bold" id="in-progress-count">8</div>
                            <div class="text-sm text-blue-500 mt-2">-2 since yesterday</div>
                        </div>
                        <div class="bg-white p-6 rounded windows-shadow">
                            <div class="text-sm text-gray-500 mb-1">Completed Today</div>
                            <div class="text-3xl font-bold" id="completed-count">5</div>
                            <div class="text-sm text-green-500 mt-2">+1 since yesterday</div>
                        </div>
                    </div>

                    <!-- Recent Orders -->
                    <div class="bg-white rounded windows-shadow mb-6">
                        <div class="border-b border-gray-200 px-6 py-4 flex justify-between items-center">
                            <h2 class="font-semibold">Recent Orders</h2>
                            <button id="view-all-orders" class="text-blue-600 text-sm">View All</button>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="w-full" id="recent-orders">
                                <thead>
                                    <tr class="bg-gray-50">
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Control #</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Customer</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Total</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="recent-orders-table" class="bg-white divide-y divide-gray-200">
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">#PS-2023-0145</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">Acme Corporation</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">2023-06-15</td>
                                        <td class="px-6 py-4 text-sm">2 Banners, 50 Vinyl Stickers</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full status-in-progress">In Progress</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">$245.00</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                            <button class="text-blue-600 hover:text-blue-900 view-order-btn">View</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">#PS-2023-0144</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">City Events</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">2023-06-14</td>
                                        <td class="px-6 py-4 text-sm">1 Billboard, 10 T-shirts</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full status-pending">Pending</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">$780.00</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                            <button class="text-blue-600 hover:text-blue-900 view-order-btn">View</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">#PS-2023-0143</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">Local Restaurant</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">2023-06-13</td>
                                        <td class="px-6 py-4 text-sm">200 Labels, 5 Signs</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full status-completed">Completed</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">$320.00</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                            <button class="text-blue-600 hover:text-blue-900 view-order-btn">View</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- New Order Form (hidden by default) -->
                <div id="new-order-view" class="flex-1 p-6 hidden">
                    <div class="flex justify-between items-center mb-6">
                        <h1 class="text-2xl font-semibold">New Print Service Order</h1>
                        <div>
                            <button id="save-order-btn" class="windows-button primary px-4 py-2 rounded">Save Order</button>
                        </div>
                    </div>

                    <div class="bg-white rounded windows-shadow p-6">
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Customer Name</label>
                                <input type="text" id="customer-name" class="windows-input w-full rounded" placeholder="Enter customer name">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Date</label>
                                <input type="date" id="order-date" class="windows-input w-full rounded" value="">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Control #</label>
                                <input type="text" id="control-number" class="windows-input w-full rounded bg-gray-100" value="" readonly>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Phone</label>
                                <input type="tel" id="customer-phone" class="windows-input w-full rounded" placeholder="Enter phone number">
                            </div>
                            <div class="md:col-span-2">
                                <label class="block text-sm font-medium text-gray-700 mb-1">Address</label>
                                <input type="text" id="customer-address" class="windows-input w-full rounded" placeholder="Enter address">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Term of Service</label>
                                <select id="term-of-service" class="windows-select w-full rounded">
                                    <option>Standard (3-5 days)</option>
                                    <option>Express (1-2 days)</option>
                                    <option>Same Day</option>
                                </select>
                            </div>
                        </div>

                        <div class="mb-6">
                            <h3 class="font-semibold mb-3">Order Description</h3>
                            <div class="overflow-x-auto">
                                <table class="w-full">
                                    <thead>
                                        <tr class="bg-gray-50">
                                            <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Qty</th>
                                            <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th>
                                            <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Size</th>
                                            <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Additional Instructions</th>
                                            <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Price</th>
                                            <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="order-items">
                                        <tr>
                                            <td class="px-4 py-2">
                                                <input type="number" class="windows-input w-16 item-qty" value="1">
                                            </td>
                                            <td class="px-4 py-2">
                                                <select class="windows-select w-full item-desc">
                                                    <option>BANNERS</option>
                                                    <option>SIGN</option>
                                                    <option>TSHIRT PRINTING</option>
                                                    <option>VINYL STICKERS</option>
                                                    <option>NUMBER PLATES</option>
                                                    <option>NUMBER BOAT</option>
                                                    <option>BILLBOARDS</option>
                                                    <option>LABELS</option>
                                                </select>
                                            </td>
                                            <td class="px-4 py-2">
                                                <input type="text" class="windows-input w-full item-size" placeholder="Size">
                                            </td>
                                            <td class="px-4 py-2">
                                                <input type="text" class="windows-input w-full item-instructions" placeholder="Instructions">
                                            </td>
                                            <td class="px-4 py-2">
                                                <input type="number" class="windows-input w-24 item-price" placeholder="0.00" step="0.01">
                                            </td>
                                            <td class="px-4 py-2">
                                                <button class="windows-button px-2 py-1 text-sm remove-item-btn">Remove</button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <button id="add-item-btn" class="windows-button mt-3 px-3 py-1 text-sm rounded flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd" />
                                </svg>
                                Add Item
                            </button>
                        </div>

                        <div class="flex justify-between items-start">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Job Status</label>
                                <select id="job-status" class="windows-select rounded">
                                    <option>Pending</option>
                                    <option>In Progress</option>
                                    <option>Completed</option>
                                </select>
                            </div>
                            <div class="text-right">
                                <div class="text-sm text-gray-500 mb-1">Subtotal</div>
                                <div id="subtotal" class="text-lg font-semibold">$0.00</div>
                                <div class="text-sm text-gray-500 mt-2 mb-1">Tax (10%)</div>
                                <div id="tax" class="text-lg font-semibold">$0.00</div>
                                <div class="text-sm text-gray-500 mt-2 mb-1">Total</div>
                                <div id="total" class="text-xl font-bold">$0.00</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- All Orders View (hidden by default) -->
                <div id="orders-view" class="flex-1 p-6 hidden">
                    <div class="flex justify-between items-center mb-6">
                        <h1 class="text-2xl font-semibold">All Orders</h1>
                        <div class="flex space-x-2">
                            <div class="relative">
                                <input type="text" id="search-orders" class="windows-input pl-8 pr-4 py-2 rounded" placeholder="Search orders...">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400 absolute left-2 top-2.5" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
                                </svg>
                            </div>
                            <button class="windows-button px-4 py-2 rounded flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z" clip-rule="evenodd" />
                                </svg>
                                Filter
                            </button>
                            <div class="export-dropdown">
                                <button class="windows-button px-4 py-2 rounded flex items-center" id="orders-export-btn">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor">
                                        <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" />
                                    </svg>
                                    Export
                                </button>
                                <div class="export-dropdown-content">
                                    <a href="#" id="orders-export-csv">Export as CSV</a>
                                    <a href="#" id="orders-export-pdf">Export as PDF</a>
                                    <a href="#" id="orders-export-excel">Export as Excel</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded windows-shadow">
                        <div class="overflow-x-auto">
                            <table class="w-full" id="all-orders">
                                <thead>
                                    <tr class="bg-gray-50">
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Control #</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Customer</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Total</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="all-orders-table" class="bg-white divide-y divide-gray-200">
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">#PS-2023-0145</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">Acme Corporation</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">2023-06-15</td>
                                        <td class="px-6 py-4 text-sm">2 Banners, 50 Vinyl Stickers</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full status-in-progress">In Progress</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">$245.00</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                            <button class="text-blue-600 hover:text-blue-900 mr-3">Edit</button>
                                            <button class="text-blue-600 hover:text-blue-900 view-order-btn">View</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">#PS-2023-0144</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">City Events</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">2023-06-14</td>
                                        <td class="px-6 py-4 text-sm">1 Billboard, 10 T-shirts</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full status-pending">Pending</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">$780.00</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                            <button class="text-blue-600 hover:text-blue-900 mr-3">Edit</button>
                                            <button class="text-blue-600 hover:text-blue-900 view-order-btn">View</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">#PS-2023-0143</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">Local Restaurant</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">2023-06-13</td>
                                        <td class="px-6 py-4 text-sm">200 Labels, 5 Signs</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full status-completed">Completed</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">$320.00</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                            <button class="text-blue-600 hover:text-blue-900 mr-3">Edit</button>
                                            <button class="text-blue-600 hover:text-blue-900 view-order-btn">View</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">#PS-2023-0142</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">Marina Services</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">2023-06-12</td>
                                        <td class="px-6 py-4 text-sm">15 Number Boats</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full status-completed">Completed</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">$450.00</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                            <button class="text-blue-600 hover:text-blue-900 mr-3">Edit</button>
                                            <button class="text-blue-600 hover:text-blue-900 view-order-btn">View</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">#PS-2023-0141</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">Auto Shop</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">2023-06-10</td>
                                        <td class="px-6 py-4 text-sm">25 Number Plates</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full status-completed">Completed</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">$375.00</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                            <button class="text-blue-600 hover:text-blue-900 mr-3">Edit</button>
                                            <button class="text-blue-600 hover:text-blue-900 view-order-btn">View</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="px-6 py-3 flex items-center justify-between border-t border-gray-200">
                            <div class="text-sm text-gray-500">
                                Showing <span class="font-medium">1</span> to <span class="font-medium">5</span> of <span class="font-medium" id="total-orders">5</span> results
                            </div>
                            <div class="flex space-x-1">
                                <button class="windows-button px-3 py-1 text-sm rounded">Previous</button>
                                <button class="windows-button primary px-3 py-1 text-sm rounded">1</button>
                                <button class="windows-button px-3 py-1 text-sm rounded">2</button>
                                <button class="windows-button px-3 py-1 text-sm rounded">3</button>
                                <button class="windows-button px-3 py-1 text-sm rounded">Next</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Reports View (hidden by default) -->
                <div id="reports-view" class="flex-1 p-6 hidden">
                    <div class="flex justify-between items-center mb-6">
                        <h1 class="text-2xl font-semibold">Reports</h1>
                        <div class="flex space-x-2">
                            <div class="export-dropdown">
                                <button class="windows-button px-4 py-2 rounded flex items-center" id="reports-export-btn">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor">
                                        <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" />
                                    </svg>
                                    Export
                                </button>
                                <div class="export-dropdown-content">
                                    <a href="#" id="reports-export-csv">Export as CSV</a>
                                    <a href="#" id="reports-export-pdf">Export as PDF</a>
                                    <a href="#" id="reports-export-excel">Export as Excel</a>
                                </div>
                            </div>
                            <button class="windows-button px-4 py-2 rounded flex items-center" id="reports-print-btn">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a1 1 0 001 1h10a1 1 0 001-1v-2h1a2 2 0 002-2v-3a2 2 0 00-2-2h-1V4a1 1 0 00-1-1H6a1 1 0 00-1 1zm2 3V5h8v2H7zm8 8H7v-2h8v2zm2-4H5v-3h12v3z" clip-rule="evenodd" />
                                </svg>
                                Print
                            </button>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div class="bg-white p-6 rounded windows-shadow">
                            <h3 class="font-semibold mb-4">Orders by Product Type</h3>
                            <div class="h-64 flex items-center justify-center">
                                <svg viewBox="0 0 200 200" class="w-full h-full">
                                    <!-- Pie chart -->
                                    <circle cx="100" cy="100" r="80" fill="#f3f4f6" />
                                    <path d="M100,100 L100,20 A80,80 0 0,1 165,135 Z" fill="#0078d7" />
                                    <path d="M100,100 L165,135 A80,80 0 0,1 100,180 Z" fill="#107c10" />
                                    <path d="M100,100 L100,180 A80,80 0 0,1 30,135 Z" fill="#d83b01" />
                                    <path d="M100,100 L30,135 A80,80 0 0,1 40,40 Z" fill="#ffb900" />
                                    <path d="M100,100 L40,40 A80,80 0 0,1 100,20 Z" fill="#8661c5" />
                                    <circle cx="100" cy="100" r="40" fill="white" />
                                </svg>
                            </div>
                            <div class="grid grid-cols-2 gap-2 mt-4">
                                <div class="flex items-center">
                                    <div class="w-3 h-3 bg-blue-600 mr-2"></div>
                                    <span class="text-sm">Banners (30%)</span>
                                </div>
                                <div class="flex items-center">
                                    <div class="w-3 h-3 bg-green-600 mr-2"></div>
                                    <span class="text-sm">T-shirts (25%)</span>
                                </div>
                                <div class="flex items-center">
                                    <div class="w-3 h-3 bg-red-600 mr-2"></div>
                                    <span class="text-sm">Stickers (20%)</span>
                                </div>
                                <div class="flex items-center">
                                    <div class="w-3 h-3 bg-yellow-500 mr-2"></div>
                                    <span class="text-sm">Signs (15%)</span>
                                </div>
                                <div class="flex items-center">
                                    <div class="w-3 h-3 bg-purple-500 mr-2"></div>
                                    <span class="text-sm">Other (10%)</span>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white p-6 rounded windows-shadow">
                            <h3 class="font-semibold mb-4">Monthly Revenue</h3>
                            <div class="h-64 flex items-end space-x-2 pt-6">
                                <div class="flex-1 flex flex-col items-center">
                                    <div class="bg-blue-500 w-full" style="height: 40%"></div>
                                    <div class="text-xs mt-1">Jan</div>
                                </div>
                                <div class="flex-1 flex flex-col items-center">
                                    <div class="bg-blue-500 w-full" style="height: 60%"></div>
                                    <div class="text-xs mt-1">Feb</div>
                                </div>
                                <div class="flex-1 flex flex-col items-center">
                                    <div class="bg-blue-500 w-full" style="height: 45%"></div>
                                    <div class="text-xs mt-1">Mar</div>
                                </div>
                                <div class="flex-1 flex flex-col items-center">
                                    <div class="bg-blue-500 w-full" style="height: 70%"></div>
                                    <div class="text-xs mt-1">Apr</div>
                                </div>
                                <div class="flex-1 flex flex-col items-center">
                                    <div class="bg-blue-500 w-full" style="height: 65%"></div>
                                    <div class="text-xs mt-1">May</div>
                                </div>
                                <div class="flex-1 flex flex-col items-center">
                                    <div class="bg-blue-600 w-full" style="height: 90%"></div>
                                    <div class="text-xs mt-1">Jun</div>
                                </div>
                            </div>
                            <div class="mt-4 text-sm text-gray-500">
                                Total Revenue YTD: <span class="font-semibold text-black">$24,850.00</span>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded windows-shadow mb-6">
                        <div class="border-b border-gray-200 px-6 py-4">
                            <h2 class="font-semibold">Top Customers</h2>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="w-full" id="top-customers">
                                <thead>
                                    <tr class="bg-gray-50">
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Customer</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Orders</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Total Spent</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Last Order</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200">
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">Acme Corporation</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">12</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">$3,245.00</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">2023-06-15</td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">City Events</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">8</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">$2,780.00</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">2023-06-14</td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">Local Restaurant</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">6</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">$1,920.00</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">2023-06-13</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Users Management View (hidden by default) -->
                <div id="users-view" class="flex-1 p-6 hidden">
                    <div class="flex justify-between items-center mb-6">
                        <h1 class="text-2xl font-semibold">User Management</h1>
                        <div class="flex space-x-2">
                            <button id="add-user-btn" class="windows-button primary px-4 py-2 rounded flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd" />
                                </svg>
                                Add User
                            </button>
                        </div>
                    </div>

                    <div class="bg-white rounded windows-shadow">
                        <div class="overflow-x-auto">
                            <table class="w-full" id="users-table-container">
                                <thead>
                                    <tr class="bg-gray-50">
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Username</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Role</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="users-table" class="bg-white divide-y divide-gray-200">
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">admin</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">Admin User</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">Administrator</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full status-completed">Active</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                            <button class="text-blue-600 hover:text-blue-900 mr-3 edit-user-btn">Edit</button>
                                            <button class="text-red-600 hover:text-red-900 delete-user-btn" disabled>Delete</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Status bar -->
                <div class="bg-gray-100 border-t border-gray-300 px-4 py-2 text-sm text-gray-600 flex justify-between">
                    <div>Ready -  Version 1.0.0</div>
                    <div>Designed by: Leonova Studio</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Order Details Modal (hidden by default) -->
    <div id="order-details-modal" class="fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded windows-shadow w-full max-w-4xl max-h-[90vh] overflow-y-auto">
            <div class="windows-titlebar flex justify-between items-center px-4 py-2 text-white">
                <div class="font-semibold">Order Details</div>
                <button id="close-modal-btn" class="px-3 py-1 hover:bg-red-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <div class="p-6">
                <div class="flex justify-between items-start mb-6">
                    <div>
                        <h2 class="text-2xl font-semibold" id="modal-order-number">#PS-2023-0145</h2>
                        <p class="text-gray-500" id="modal-customer-name">Acme Corporation</p>
                    </div>
                    <div class="text-right">
                        <div id="modal-status" class="px-3 py-1 inline-flex text-sm font-semibold rounded-full status-in-progress">In Progress</div>
                        <p class="text-gray-500 mt-1" id="modal-order-date">June 15, 2023</p>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <h3 class="font-semibold mb-2">Customer Information</h3>
                        <div class="bg-gray-50 p-4 rounded">
                            <p><span class="font-medium">Phone:</span> <span id="modal-phone">(555) 123-4567</span></p>
                            <p><span class="font-medium">Address:</span> <span id="modal-address">123 Business Ave, Suite 101, Business City, BC 12345</span></p>
                            <p><span class="font-medium">Term of Service:</span> <span id="modal-term">Standard (3-5 days)</span></p>
                        </div>
                    </div>
                    <div>
                        <h3 class="font-semibold mb-2">Order Summary</h3>
                        <div class="bg-gray-50 p-4 rounded">
                            <p><span class="font-semibold">Items:</span> <span id="modal-items-count">2</span></p>
                            <p><span class="font-semibold">Subtotal:</span> <span id="modal-subtotal">$222.73</span></p>
                            <p><span class="font-semibold">Tax (10%):</span> <span id="modal-tax">$22.27</span></p>
                            <p class="font-bold mt-2">Total: <span id="modal-total">$245.00</span></p>
                        </div>
                    </div>
                </div>

                <h3 class="font-semibold mb-3">Order Items</h3>
                <div class="overflow-x-auto mb-6">
                    <table class="w-full">
                        <thead>
                            <tr class="bg-gray-50">
                                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Qty</th>
                                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th>
                                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Size</th>
                                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Additional Instructions</th>
                                <th class="px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Price</th>
                            </tr>
                        </thead>
                        <tbody id="modal-items">
                            <tr>
                                <td class="px-4 py-2 text-sm">2</td>
                                <td class="px-4 py-2 text-sm">BANNERS</td>
                                <td class="px-4 py-2 text-sm">3ft x 6ft</td>
                                <td class="px-4 py-2 text-sm">Full color, grommets every 2 feet</td>
                                <td class="px-4 py-2 text-sm text-right">$150.00</td>
                            </tr>
                            <tr>
                                <td class="px-4 py-2 text-sm">50</td>
                                <td class="px-4 py-2 text-sm">VINYL STICKERS</td>
                                <td class="px-4 py-2 text-sm">3" x 3"</td>
                                <td class="px-4 py-2 text-sm">Weather resistant, glossy finish</td>
                                <td class="px-4 py-2 text-sm text-right">$72.73</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="flex justify-between">
                    <div>
                        <h3 class="font-semibold mb-2">Order History</h3>
                        <div class="bg-gray-50 p-4 rounded max-w-md">
                            <div class="mb-3 pb-3 border-b border-gray-200">
                                <div class="text-sm text-gray-500">June 15, 2023 - 10:30 AM</div>
                                <div class="font-medium">Order status changed to In Progress</div>
                                <div class="text-sm">By: Print Shop Department</div>
                            </div>
                            <div>
                                <div class="text-sm text-gray-500">June 14, 2023 - 2:15 PM</div>
                                <div class="font-medium">Order created</div>
                                <div class="text-sm">By: Reception</div>
                            </div>
                        </div>
                    </div>
                    <div class="text-right">
                        <h3 class="font-semibold mb-2">Actions</h3>
                        <div class="space-y-2">
                            <button id="update-status-btn" class="windows-button primary w-40 px-4 py-2 rounded">Update Status</button>
                            <button id="print-order-btn" class="windows-button w-40 px-4 py-2 rounded flex items-center justify-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a1 1 0 001 1h10a1 1 0 001-1v-2h1a2 2 0 002-2v-3a2 2 0 00-2-2h-1V4a1 1 0 00-1-1H6a1 1 0 00-1 1zm2 3V5h8v2H7zm8 8H7v-2h8v2zm2-4H5v-3h12v3z" clip-rule="evenodd" />
                                </svg>
                                Print Order
                            </button>
                            <button class="windows-button w-40 px-4 py-2 rounded">Edit Order</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Status Update Modal (hidden by default) -->
    <div id="status-update-modal" class="fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded windows-shadow w-full max-w-md">
            <div class="windows-titlebar flex justify-between items-center px-4 py-2 text-white">
                <div class="font-semibold">Update Order Status</div>
                <button id="close-status-modal-btn" class="px-3 py-1 hover:bg-red-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <div class="p-6">
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-1">Order Number</label>
                    <div id="status-modal-order-number" class="font-semibold">#PS-2023-0145</div>
                </div>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-1">Current Status</label>
                    <div id="status-modal-current-status" class="font-semibold">In Progress</div>
                </div>
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-1">New Status</label>
                    <select id="status-modal-new-status" class="windows-select w-full rounded">
                        <option>Pending</option>
                        <option>In Progress</option>
                        <option>Completed</option>
                    </select>
                </div>
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-1">Notes</label>
                    <textarea id="status-modal-notes" class="windows-input w-full rounded" rows="3" placeholder="Add any notes about this status change"></textarea>
                </div>
                <div class="flex justify-end space-x-2">
                    <button id="cancel-status-update-btn" class="windows-button px-4 py-2 rounded">Cancel</button>
                    <button id="confirm-status-update-btn" class="windows-button primary px-4 py-2 rounded">Update Status</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add User Modal (hidden by default) -->
    <div id="add-user-modal" class="fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded windows-shadow w-full max-w-md">
            <div class="windows-titlebar flex justify-between items-center px-4 py-2 text-white">
                <div class="font-semibold">Add New User</div>
                <button id="close-add-user-modal-btn" class="px-3 py-1 hover:bg-red-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <div class="p-6">
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-1">Username</label>
                    <input type="text" id="new-username" class="windows-input w-full rounded" placeholder="Enter username">
                </div>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                    <input type="text" id="new-fullname" class="windows-input w-full rounded" placeholder="Enter full name">
                </div>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                    <input type="password" id="new-password" class="windows-input w-full rounded" placeholder="Enter password">
                </div>
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-1">Role</label>
                    <select id="new-role" class="windows-select w-full rounded">
                        <option>User</option>
                        <option>Manager</option>
                        <option>Administrator</option>
                    </select>
                </div>
                <div class="flex justify-end space-x-2">
                    <button id="cancel-add-user-btn" class="windows-button px-4 py-2 rounded">Cancel</button>
                    <button id="confirm-add-user-btn" class="windows-button primary px-4 py-2 rounded">Add User</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification">
        <div class="flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
            </svg>
            <span id="notification-message">Order saved successfully!</span>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize data
            let orders = [
                {
                    controlNumber: "#PS-2023-0145",
                    customer: "Acme Corporation",
                    date: "2023-06-15",
                    description: "2 Banners, 50 Vinyl Stickers",
                    status: "In Progress",
                    total: "$245.00",
                    phone: "(555) 123-4567",
                    address: "123 Business Ave, Suite 101, Business City, BC 12345",
                    term: "Standard (3-5 days)",
                    items: [
                        { qty: 2, desc: "BANNERS", size: "3ft x 6ft", instructions: "Full color, grommets every 2 feet", price: "$150.00" },
                        { qty: 50, desc: "VINYL STICKERS", size: "3\" x 3\"", instructions: "Weather resistant, glossy finish", price: "$72.73" }
                    ],
                    subtotal: "$222.73",
                    tax: "$22.27",
                    history: [
                        { date: "June 15, 2023 - 10:30 AM", action: "Order status changed to In Progress", by: "Print Shop Department" },
                        { date: "June 14, 2023 - 2:15 PM", action: "Order created", by: "Reception" }
                    ]
                },
                {
                    controlNumber: "#PS-2023-0144",
                    customer: "City Events",
                    date: "2023-06-14",
                    description: "1 Billboard, 10 T-shirts",
                    status: "Pending",
                    total: "$780.00",
                    phone: "(555) 234-5678",
                    address: "456 Event Plaza, Downtown, EC 54321",
                    term: "Express (1-2 days)",
                    items: [
                        { qty: 1, desc: "BILLBOARDS", size: "10ft x 20ft", instructions: "High resolution print", price: "$500.00" },
                        { qty: 10, desc: "TSHIRT PRINTING", size: "Mixed sizes", instructions: "Full color front and back", price: "$209.09" }
                    ],
                    subtotal: "$709.09",
                    tax: "$70.91",
                    history: [
                        { date: "June 14, 2023 - 9:45 AM", action: "Order created", by: "Reception" }
                    ]
                },
                {
                    controlNumber: "#PS-2023-0143",
                    customer: "Local Restaurant",
                    date: "2023-06-13",
                    description: "200 Labels, 5 Signs",
                    status: "Completed",
                    total: "$320.00",
                    phone: "(555) 345-6789",
                    address: "789 Food St, Cuisine City, FC 67890",
                    term: "Standard (3-5 days)",
                    items: [
                        { qty: 200, desc: "LABELS", size: "2\" x 3\"", instructions: "Waterproof, food-safe", price: "$180.00" },
                        { qty: 5, desc: "SIGN", size: "18\" x 24\"", instructions: "Double-sided, with stands", price: "$110.91" }
                    ],
                    subtotal: "$290.91",
                    tax: "$29.09",
                    history: [
                        { date: "June 15, 2023 - 3:20 PM", action: "Order status changed to Completed", by: "Print Shop Department" },
                        { date: "June 14, 2023 - 11:15 AM", action: "Order status changed to In Progress", by: "Print Shop Department" },
                        { date: "June 13, 2023 - 1:30 PM", action: "Order created", by: "Reception" }
                    ]
                }
            ];
            
            // User accounts
            let users = [
                { username: "admin", password: "admin", name: "Admin User", role: "Administrator", status: "Active" }
            ];
            
            // Current logged in user
            let currentUser = null;
            
            // Set today's date in the order form
            const today = new Date();
            const formattedDate = today.toISOString().split('T')[0];
            document.getElementById('order-date').value = formattedDate;
            
            // Generate next control number
            function generateControlNumber() {
                const year = today.getFullYear();
                const lastOrder = orders[0];
                const lastOrderNum = parseInt(lastOrder.controlNumber.split('-')[2]);
                const newOrderNum = (lastOrderNum + 1).toString().padStart(4, '0');
                return `#PS-${year}-${newOrderNum}`;
            }
            
            document.getElementById('control-number').value = generateControlNumber();
            
            // Login functionality
            document.getElementById('login-btn').addEventListener('click', function() {
                const username = document.getElementById('username').value.trim();
                const password = document.getElementById('password').value.trim();
                
                // Bypass login check for demo purposes - always login successfully
                currentUser = {
                    username: username || "admin",
                    name: "Admin User",
                    role: "Administrator"
                };
                
                // Update UI with user info
                document.getElementById('user-name').textContent = currentUser.name;
                
                // Hide login screen, show main app
                document.getElementById('login-screen').classList.add('hidden');
                document.getElementById('main-app').classList.remove('hidden');
                
                // Show notification
                showNotification(`Welcome, ${currentUser.name}!`);
                
                // Hide login error if it was shown
                document.getElementById('login-error').classList.add('hidden');
            });
            
            // Add keypress event listener for Enter key on login form
            document.getElementById('password').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    document.getElementById('login-btn').click();
                }
            });
            
            // Logout functionality
            document.getElementById('logout-btn').addEventListener('click', function() {
                // Clear current user
                currentUser = null;
                
                // Clear login form
                document.getElementById('username').value = 'admin';
                document.getElementById('password').value = 'admin';
                document.getElementById('login-error').classList.add('hidden');
                
                // Show login screen, hide main app
                document.getElementById('login-screen').classList.remove('hidden');
                document.getElementById('main-app').classList.add('hidden');
            });
            
            // Tab navigation
            const dashboardBtn = document.getElementById('dashboard-btn');
            const newOrderBtn = document.getElementById('new-order-btn');
            const ordersBtn = document.getElementById('orders-btn');
            const reportsBtn = document.getElementById('reports-btn');
            const usersBtn = document.getElementById('users-btn');
            
            const dashboardView = document.getElementById('dashboard-view');
            const newOrderView = document.getElementById('new-order-view');
            const ordersView = document.getElementById('orders-view');
            const reportsView = document.getElementById('reports-view');
            const usersView = document.getElementById('users-view');
            
            // Function to show a view and hide others
            function showView(viewToShow) {
                [dashboardView, newOrderView, ordersView, reportsView, usersView].forEach(view => {
                    view.classList.add('hidden');
                });
                viewToShow.classList.remove('hidden');
                
                // Update active tab
                [dashboardBtn, newOrderBtn, ordersBtn, reportsBtn, usersBtn].forEach(btn => {
                    btn.classList.remove('tab-active');
                });
            }
            
            // Tab click handlers
            dashboardBtn.addEventListener('click', () => {
                showView(dashboardView);
                dashboardBtn.classList.add('tab-active');
            });
            
            newOrderBtn.addEventListener('click', () => {
                showView(newOrderView);
                newOrderBtn.classList.add('tab-active');
            });
            
            ordersBtn.addEventListener('click', () => {
                showView(ordersView);
                ordersBtn.classList.add('tab-active');
            });
            
            reportsBtn.addEventListener('click', () => {
                showView(reportsView);
                reportsBtn.classList.add('tab-active');
            });
            
            usersBtn.addEventListener('click', () => {
                showView(usersView);
                usersBtn.classList.add('tab-active');
            });
            
            // New Order button on dashboard
            document.getElementById('dashboard-new-order-btn').addEventListener('click', () => {
                showView(newOrderView);
                newOrderBtn.classList.add('tab-active');
            });
            
            // View All Orders button
            document.getElementById('view-all-orders').addEventListener('click', () => {
                showView(ordersView);
                ordersBtn.classList.add('tab-active');
            });
            
            // Add item button
            document.getElementById('add-item-btn').addEventListener('click', () => {
                const orderItems = document.getElementById('order-items');
                const newRow = document.createElement('tr');
                newRow.innerHTML = `
                    <td class="px-4 py-2">
                        <input type="number" class="windows-input w-16 item-qty" value="1">
                    </td>
                    <td class="px-4 py-2">
                        <select class="windows-select w-full item-desc">
                            <option>BANNERS</option>
                            <option>SIGN</option>
                            <option>TSHIRT PRINTING</option>
                            <option>VINYL STICKERS</option>
                            <option>NUMBER PLATES</option>
                            <option>NUMBER BOAT</option>
                            <option>BILLBOARDS</option>
                            <option>LABELS</option>
                        </select>
                    </td>
                    <td class="px-4 py-2">
                        <input type="text" class="windows-input w-full item-size" placeholder="Size">
                    </td>
                    <td class="px-4 py-2">
                        <input type="text" class="windows-input w-full item-instructions" placeholder="Instructions">
                    </td>
                    <td class="px-4 py-2">
                        <input type="number" class="windows-input w-24 item-price" placeholder="0.00" step="0.01">
                    </td>
                    <td class="px-4 py-2">
                        <button class="windows-button px-2 py-1 text-sm remove-item-btn">Remove</button>
                    </td>
                `;
                orderItems.appendChild(newRow);
                
                // Add event listener to the remove button
                const removeBtn = newRow.querySelector('.remove-item-btn');
                removeBtn.addEventListener('click', function() {
                    orderItems.removeChild(newRow);
                    calculateTotal();
                });
                
                // Add event listener to price input
                const priceInput = newRow.querySelector('.item-price');
                priceInput.addEventListener('input', calculateTotal);
            });
            
            // Calculate total
            function calculateTotal() {
                const priceInputs = document.querySelectorAll('.item-price');
                let subtotal = 0;
                
                priceInputs.forEach(input => {
                    const price = parseFloat(input.value) || 0;
                    subtotal += price;
                });
                
                const tax = subtotal * 0.1;
                const total = subtotal + tax;
                
                document.getElementById('subtotal').textContent = `$${subtotal.toFixed(2)}`;
                document.getElementById('tax').textContent = `$${tax.toFixed(2)}`;
                document.getElementById('total').textContent = `$${total.toFixed(2)}`;
            }
            
            // Initialize price calculation for existing items
            document.querySelectorAll('.item-price').forEach(input => {
                input.addEventListener('input', calculateTotal);
            });
            
            // Add event listeners to remove buttons in the initial row
            document.querySelectorAll('.remove-item-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const row = this.closest('tr');
                    if (document.querySelectorAll('#order-items tr').length > 1) {
                        row.remove();
                        calculateTotal();
                    }
                });
            });
            
            // Show notification
            function showNotification(message) {
                const notification = document.getElementById('notification');
                document.getElementById('notification-message').textContent = message;
                notification.classList.add('show');
                
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 3000);
            }
            
            // Save order button
            document.getElementById('save-order-btn').addEventListener('click', () => {
                // Get form values
                const customerName = document.getElementById('customer-name').value;
                const orderDate = document.getElementById('order-date').value;
                const controlNumber = document.getElementById('control-number').value;
                const phone = document.getElementById('customer-phone').value;
                const address = document.getElementById('customer-address').value;
                const term = document.getElementById('term-of-service').value;
                const status = document.getElementById('job-status').value;
                
                // Validate required fields
                if (!customerName) {
                    showNotification('Please enter customer name');
                    return;
                }
                
                // Get order items
                const itemRows = document.querySelectorAll('#order-items tr');
                const items = [];
                let description = '';
                
                itemRows.forEach(row => {
                    const qty = row.querySelector('.item-qty').value;
                    const desc = row.querySelector('.item-desc').value;
                    const size = row.querySelector('.item-size').value;
                    const instructions = row.querySelector('.item-instructions').value;
                    const price = row.querySelector('.item-price').value;
                    
                    if (qty && desc) {
                        items.push({
                            qty: parseInt(qty),
                            desc: desc,
                            size: size,
                            instructions: instructions,
                            price: `$${parseFloat(price || 0).toFixed(2)}`
                        });
                        
                        // Build description for the order list
                        if (description) description += ', ';
                        description += `${qty} ${desc}`;
                    }
                });
                
                if (items.length === 0) {
                    showNotification('Please add at least one item');
                    return;
                }
                
                // Get totals
                const subtotal = document.getElementById('subtotal').textContent;
                const tax = document.getElementById('tax').textContent;
                const total = document.getElementById('total').textContent;
                
                // Create history entry
                const now = new Date();
                const formattedDateTime = `${now.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' })} - ${now.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true })}`;
                
                // Create new order object
                const newOrder = {
                    controlNumber: controlNumber,
                    customer: customerName,
                    date: orderDate,
                    description: description,
                    status: status,
                    total: total,
                    phone: phone,
                    address: address,
                    term: term,
                    items: items,
                    subtotal: subtotal,
                    tax: tax,
                    history: [
                        { date: formattedDateTime, action: "Order created", by: currentUser ? currentUser.name : "System" }
                    ]
                };
                
                // Add to orders array
                orders.unshift(newOrder);
                
                // Show notification
                showNotification('Order saved successfully!');
                
                // Go back to dashboard
                showView(dashboardView);
                dashboardBtn.classList.add('tab-active');
            });
            
            // Order details modal
            const orderDetailsModal = document.getElementById('order-details-modal');
            const closeModalBtn = document.getElementById('close-modal-btn');
            
            // Close modal
            closeModalBtn.addEventListener('click', () => {
                orderDetailsModal.classList.add('hidden');
            });
            
            // Close modal when clicking outside
            orderDetailsModal.addEventListener('click', (e) => {
                if (e.target === orderDetailsModal) {
                    orderDetailsModal.classList.add('hidden');
                }
            });
            
            // View order buttons
            document.querySelectorAll('.view-order-btn').forEach((button) => {
                button.addEventListener('click', () => {
                    const row = button.closest('tr');
                    const controlNumber = row.cells[0].textContent;
                    const order = orders.find(o => o.controlNumber === controlNumber);
                    
                    if (order) {
                        // Fill modal with order details
                        document.getElementById('modal-order-number').textContent = order.controlNumber;
                        document.getElementById('modal-customer-name').textContent = order.customer;
                        document.getElementById('modal-order-date').textContent = formatDate(order.date);
                        document.getElementById('modal-phone').textContent = order.phone;
                        document.getElementById('modal-address').textContent = order.address;
                        document.getElementById('modal-term').textContent = order.term;
                        document.getElementById('modal-items-count').textContent = order.items.length;
                        document.getElementById('modal-subtotal').textContent = order.subtotal;
                        document.getElementById('modal-tax').textContent = order.tax;
                        document.getElementById('modal-total').textContent = order.total;
                        
                        const statusClass = order.status === 'Pending' ? 'status-pending' : 
                                          order.status === 'In Progress' ? 'status-in-progress' : 
                                          'status-completed';
                        
                        const statusElement = document.getElementById('modal-status');
                        statusElement.className = `px-3 py-1 inline-flex text-sm font-semibold rounded-full ${statusClass}`;
                        statusElement.textContent = order.status;
                        
                        // Fill order items
                        const modalItems = document.getElementById('modal-items');
                        modalItems.innerHTML = '';
                        
                        order.items.forEach(item => {
                            const row = document.createElement('tr');
                            row.innerHTML = `
                                <td class="px-4 py-2 text-sm">${item.qty}</td>
                                <td class="px-4 py-2 text-sm">${item.desc}</td>
                                <td class="px-4 py-2 text-sm">${item.size}</td>
                                <td class="px-4 py-2 text-sm">${item.instructions}</td>
                                <td class="px-4 py-2 text-sm text-right">${item.price}</td>
                            `;
                            modalItems.appendChild(row);
                        });
                        
                        // Show modal
                        orderDetailsModal.classList.remove('hidden');
                    }
                });
            });
            
            // Format date for display
            function formatDate(dateString) {
                const date = new Date(dateString);
                return date.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' });
            }
            
            // Status update modal
            const statusUpdateModal = document.getElementById('status-update-modal');
            const updateStatusBtn = document.getElementById('update-status-btn');
            const closeStatusModalBtn = document.getElementById('close-status-modal-btn');
            const cancelStatusUpdateBtn = document.getElementById('cancel-status-update-btn');
            const confirmStatusUpdateBtn = document.getElementById('confirm-status-update-btn');
            
            // Open status update modal
            updateStatusBtn.addEventListener('click', () => {
                const orderNumber = document.getElementById('modal-order-number').textContent;
                const currentStatus = document.getElementById('modal-status').textContent;
                
                document.getElementById('status-modal-order-number').textContent = orderNumber;
                document.getElementById('status-modal-current-status').textContent = currentStatus;
                
                // Set the current status in the dropdown
                const statusSelect = document.getElementById('status-modal-new-status');
                for (let i = 0; i < statusSelect.options.length; i++) {
                    if (statusSelect.options[i].text === currentStatus) {
                        statusSelect.selectedIndex = i;
                        break;
                    }
                }
                
                statusUpdateModal.classList.remove('hidden');
            });
            
            // Close status update modal
            closeStatusModalBtn.addEventListener('click', () => {
                statusUpdateModal.classList.add('hidden');
            });
            
            cancelStatusUpdateBtn.addEventListener('click', () => {
                statusUpdateModal.classList.add('hidden');
            });
            
            // Confirm status update
            confirmStatusUpdateBtn.addEventListener('click', () => {
                const orderNumber = document.getElementById('status-modal-order-number').textContent;
                const newStatus = document.getElementById('status-modal-new-status').value;
                const notes = document.getElementById('status-modal-notes').value;
                
                // Find the order and update its status
                const order = orders.find(o => o.controlNumber === orderNumber);
                if (order) {
                    order.status = newStatus;
                    
                    // Add history entry
                    const now = new Date();
                    const formattedDateTime = `${now.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' })} - ${now.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true })}`;
                    
                    order.history.unshift({
                        date: formattedDateTime,
                        action: `Order status changed to ${newStatus}${notes ? ': ' + notes : ''}`,
                        by: currentUser ? currentUser.name : "System"
                    });
                    
                    // Update the modal
                    const statusClass = newStatus === 'Pending' ? 'status-pending' : 
                                      newStatus === 'In Progress' ? 'status-in-progress' : 
                                      'status-completed';
                    
                    const statusElement = document.getElementById('modal-status');
                    statusElement.className = `px-3 py-1 inline-flex text-sm font-semibold rounded-full ${statusClass}`;
                    statusElement.textContent = newStatus;
                    
                    // Show notification
                    showNotification('Order status updated successfully!');
                }
                
                statusUpdateModal.classList.add('hidden');
            });
            
            // Add User modal
            const addUserModal = document.getElementById('add-user-modal');
            const addUserBtn = document.getElementById('add-user-btn');
            const closeAddUserModalBtn = document.getElementById('close-add-user-modal-btn');
            const cancelAddUserBtn = document.getElementById('cancel-add-user-btn');
            const confirmAddUserBtn = document.getElementById('confirm-add-user-btn');
            
            // Open add user modal
            addUserBtn.addEventListener('click', () => {
                // Clear form
                document.getElementById('new-username').value = '';
                document.getElementById('new-fullname').value = '';
                document.getElementById('new-password').value = '';
                document.getElementById('new-role').selectedIndex = 0;
                
                addUserModal.classList.remove('hidden');
            });
            
            // Close add user modal
            closeAddUserModalBtn.addEventListener('click', () => {
                addUserModal.classList.add('hidden');
            });
            
            cancelAddUserBtn.addEventListener('click', () => {
                addUserModal.classList.add('hidden');
            });
            
            // Confirm add user
            confirmAddUserBtn.addEventListener('click', () => {
                const username = document.getElementById('new-username').value.trim();
                const fullname = document.getElementById('new-fullname').value.trim();
                const password = document.getElementById('new-password').value.trim();
                const role = document.getElementById('new-role').value;
                
                // Validate
                if (!username || !fullname || !password) {
                    showNotification('Please fill in all fields');
                    return;
                }
                
                // Check if username already exists
                if (users.some(u => u.username === username)) {
                    showNotification('Username already exists');
                    return;
                }
                
                // Add new user
                const newUser = {
                    username: username,
                    password: password,
                    name: fullname,
                    role: role,
                    status: 'Active'
                };
                
                users.push(newUser);
                
                // Update users table
                const usersTable = document.getElementById('users-table');
                const newRow = document.createElement('tr');
                newRow.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">${username}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm">${fullname}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm">${role}</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full status-completed">Active</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                        <button class="text-blue-600 hover:text-blue-900 mr-3 edit-user-btn">Edit</button>
                        <button class="text-red-600 hover:text-red-900 delete-user-btn">Delete</button>
                    </td>
                `;
                usersTable.appendChild(newRow);
                
                // Show notification
                showNotification('User added successfully!');
                
                addUserModal.classList.add('hidden');
            });
            
            // Export functionality for All Orders
            document.getElementById('orders-export-csv').addEventListener('click', function(e) {
                e.preventDefault();
                exportTableToCSV('all-orders', 'orders.csv');
                showNotification('Orders exported to CSV successfully!');
            });
            
            document.getElementById('orders-export-pdf').addEventListener('click', function(e) {
                e.preventDefault();
                exportToPDF('all-orders', 'orders.pdf');
                showNotification('Orders exported to PDF successfully!');
            });
            
            document.getElementById('orders-export-excel').addEventListener('click', function(e) {
                e.preventDefault();
                exportTableToCSV('all-orders', 'orders.xlsx');
                showNotification('Orders exported to Excel successfully!');
            });
            
            // Export functionality for Reports
            document.getElementById('reports-export-csv').addEventListener('click', function(e) {
                e.preventDefault();
                exportTableToCSV('top-customers', 'top_customers.csv');
                showNotification('Top customers exported to CSV successfully!');
            });
            
            document.getElementById('reports-export-pdf').addEventListener('click', function(e) {
                e.preventDefault();
                exportToPDF('reports-view', 'reports.pdf');
                showNotification('Reports exported to PDF successfully!');
            });
            
            document.getElementById('reports-export-excel').addEventListener('click', function(e) {
                e.preventDefault();
                exportTableToCSV('top-customers', 'top_customers.xlsx');
                showNotification('Top customers exported to Excel successfully!');
            });
            
            // Export to CSV function
            function exportTableToCSV(tableId, filename) {
                const table = document.getElementById(tableId);
                const rows = table.querySelectorAll('tr');
                let csv = [];
                
                // Get headers
                const headers = [];
                const headerRow = rows[0].querySelectorAll('th');
                for (let i = 0; i < headerRow.length - 1; i++) { // Skip the Actions column
                    headers.push(headerRow[i].textContent.trim());
                }
                csv.push(headers.join(','));
                
                // Get data rows
                for (let i = 1; i < rows.length; i++) {
                    const row = rows[i];
                    const cols = row.querySelectorAll('td');
                    const rowData = [];
                    
                    for (let j = 0; j < cols.length - 1; j++) { // Skip the Actions column
                        // Handle status cells with spans
                        if (j === 4 && tableId === 'all-orders') { // Status column in orders table
                            const statusSpan = cols[j].querySelector('span');
                            rowData.push(statusSpan ? statusSpan.textContent.trim() : cols[j].textContent.trim());
                        } else {
                            rowData.push('"' + cols[j].textContent.trim().replace(/"/g, '""') + '"');
                        }
                    }
                    
                    csv.push(rowData.join(','));
                }
                
                // Download CSV file
                downloadCSV(csv.join('\n'), filename);
            }
            
            function downloadCSV(csv, filename) {
                const csvFile = new Blob([csv], { type: 'text/csv' });
                const downloadLink = document.createElement('a');
                
                // File name
                downloadLink.download = filename;
                
                // Create a link to the file
                downloadLink.href = window.URL.createObjectURL(csvFile);
                
                // Hide download link
                downloadLink.style.display = 'none';
                
                // Add the link to DOM
                document.body.appendChild(downloadLink);
                
                // Click download link
                downloadLink.click();
                
                // Clean up
                document.body.removeChild(downloadLink);
            }
            
            // Export to PDF function
            function exportToPDF(elementId, filename) {
                const element = document.getElementById(elementId);
                const opt = {
                    margin: 1,
                    filename: filename,
                    image: { type: 'jpeg', quality: 0.98 },
                    html2canvas: { scale: 2 },
                    jsPDF: { unit: 'in', format: 'letter', orientation: 'landscape' }
                };
                
                html2pdf().set(opt).from(element).save();
            }
            
            // Print report
            document.getElementById('reports-print-btn').addEventListener('click', function() {
                window.print();
            });
            
            // Print order
            document.getElementById('print-order-btn').addEventListener('click', function() {
                const orderNumber = document.getElementById('modal-order-number').textContent;
                const order = orders.find(o => o.controlNumber === orderNumber);
                
                if (order) {
                    // Create a printable version
                    const printWindow = window.open('', '_blank');
                    printWindow.document.write(`
                        <html>
                        <head>
                            <title>Print Order ${orderNumber}</title>
                            <style>
                                body { font-family: Arial, sans-serif; margin: 20px; }
                                .header { display: flex; justify-content: space-between; margin-bottom: 20px; }
                                .company-info { text-align: right; }
                                table { width: 100%; border-collapse: collapse; margin: 20px 0; }
                                th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
                                th { background-color: #f2f2f2; }
                                .total-section { text-align: right; margin-top: 20px; }
                            </style>
                        </head>
                        <body>
                            <div class="header">
                                <div>
                                    <h1>Print Service Order</h1>
                                    <p><strong>Order #:</strong> ${orderNumber}</p>
                                    <p><strong>Date:</strong> ${formatDate(order.date)}</p>
                                    <p><strong>Status:</strong> ${order.status}</p>
                                </div>
                                <div class="company-info">
                                    <h2>Eurojapan Motors Limited</h2>
                                    <p>123 Business Street</p>
                                    <p>Business City, BC 12345</p>
                                    <p>Phone: (555) 123-4567</p>
                                </div>
                            </div>
                            
                            <div>
                                <h3>Customer Information</h3>
                                <p><strong>Name:</strong> ${order.customer}</p>
                                <p><strong>Phone:</strong> ${order.phone}</p>
                                <p><strong>Address:</strong> ${order.address}</p>
                                <p><strong>Term of Service:</strong> ${order.term}</p>
                            </div>
                            
                            <h3>Order Items</h3>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Qty</th>
                                        <th>Description</th>
                                        <th>Size</th>
                                        <th>Additional Instructions</th>
                                        <th>Price</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    ${order.items.map(item => `
                                        <tr>
                                            <td>${item.qty}</td>
                                            <td>${item.desc}</td>
                                            <td>${item.size}</td>
                                            <td>${item.instructions}</td>
                                            <td>${item.price}</td>
                                        </tr>
                                    `).join('')}
                                </tbody>
                            </table>
                            
                            <div class="total-section">
                                <p><strong>Subtotal:</strong> ${order.subtotal}</p>
                                <p><strong>Tax (10%):</strong> ${order.tax}</p>
                                <p><strong>Total:</strong> ${order.total}</p>
                            </div>
                            
                            <div style="margin-top: 50px;">
                                <p>Thank you for your business!</p>
                                <p>For questions or concerns, please contact us at support@eurojapanmotors.com</p>
                            </div>
                        </body>
                        </html>
                    `);
                    printWindow.document.close();
                    printWindow.focus();
                    printWindow.print();
                }
            });
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9658e6a0b5bd7b87',t:'MTc1MzU4NTM3Ny4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
